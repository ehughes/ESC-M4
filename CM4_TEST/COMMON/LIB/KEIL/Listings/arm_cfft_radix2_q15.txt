; generated by Component: ARM Compiler 5.06 update 3 (build 300) Tool: ArmCC [4d35f0]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\objects\arm_cfft_radix2_q15.o --asm_dir=.\Listings\ --list_dir=.\Listings\ --depend=.\objects\arm_cfft_radix2_q15.d --cpu=Cortex-M4.fp --apcs=interwork -O1 --diag_suppress=9931 -I..\..\SRC\CMSIS_DSP_4_5\inc -IC:\Users\emh203\Documents\GitHub\ESC-M4\CM4_TEST\COMMON\LIB\KEIL\RTE -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\4.5.0\Device\ARM\ARMCM4\Include -IC:\Keil_v5\ARM\CMSIS\Include -D__UVISION_VERSION=521 -DARMCM4_FP -D__FPU_PRESENT=1 -DARM_MATH_CM4 --omf_browse=.\objects\arm_cfft_radix2_q15.crf ..\..\SRC\CMSIS_DSP_4_5\src\TransformFunctions\arm_cfft_radix2_q15.c]
                          THUMB

                          AREA ||i.arm_cfft_radix2_q15||, CODE, READONLY, ALIGN=1

                  arm_cfft_radix2_q15 PROC
;;;79     
;;;80     void arm_cfft_radix2_q15(
000000  b570              PUSH     {r4-r6,lr}
;;;81       const arm_cfft_radix2_instance_q15 * S,
;;;82       q15_t * pSrc)
;;;83     {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;84     
;;;85       if(S->ifftFlag == 1u)
000006  78a0              LDRB     r0,[r4,#2]
;;;86       {
;;;87         arm_radix2_butterfly_inverse_q15(pSrc, S->fftLen,
000008  8821              LDRH     r1,[r4,#0]
00000a  89a3              LDRH     r3,[r4,#0xc]
00000c  6862              LDR      r2,[r4,#4]            ;85
00000e  2801              CMP      r0,#1                 ;85
000010  d00a              BEQ      |L1.40|
;;;88                                          S->pTwiddle, S->twidCoefModifier);
;;;89       }
;;;90       else
;;;91       {
;;;92         arm_radix2_butterfly_q15(pSrc, S->fftLen,
000012  4628              MOV      r0,r5
000014  f7fffffe          BL       arm_radix2_butterfly_q15
                  |L1.24|
;;;93                                  S->pTwiddle, S->twidCoefModifier);
;;;94       }
;;;95     
;;;96       arm_bitreversal_q15(pSrc, S->fftLen, S->bitRevFactor, S->pBitRevTable);
000018  89e2              LDRH     r2,[r4,#0xe]
00001a  8821              LDRH     r1,[r4,#0]
00001c  4628              MOV      r0,r5
00001e  68a3              LDR      r3,[r4,#8]
000020  e8bd4070          POP      {r4-r6,lr}
000024  f7ffbffe          B.W      arm_bitreversal_q15
                  |L1.40|
000028  4628              MOV      r0,r5                 ;87
00002a  f7fffffe          BL       arm_radix2_butterfly_inverse_q15
00002e  e7f3              B        |L1.24|
;;;97     }
;;;98     
                          ENDP


                          AREA ||i.arm_radix2_butterfly_inverse_q15||, CODE, READONLY, ALIGN=1

                  arm_radix2_butterfly_inverse_q15 PROC
;;;431    
;;;432    void arm_radix2_butterfly_inverse_q15(
000000  e92d4fff          PUSH     {r0-r11,lr}
;;;433      q15_t * pSrc,
;;;434      uint32_t fftLen,
;;;435      q15_t * pCoef,
;;;436      uint16_t twidCoefModifier)
;;;437    {
000004  b081              SUB      sp,sp,#4
;;;438    #ifndef ARM_MATH_CM0_FAMILY
;;;439    
;;;440      unsigned i, j, k, l;
;;;441      unsigned n1, n2, ia;
;;;442      q15_t in;
;;;443      q31_t T, S, R;
;;;444      q31_t coeff, out1, out2;
;;;445    
;;;446      //N = fftLen; 
;;;447      n2 = fftLen;
;;;448    
;;;449      n1 = n2;
;;;450      n2 = n2 >> 1;
000006  084a              LSRS     r2,r1,#1
;;;451      ia = 0;
000008  2600              MOVS     r6,#0
;;;452    
;;;453      // loop for groups 
;;;454      for (i = 0; i < n2; i++)
00000a  2400              MOVS     r4,#0
00000c  e053              B        |L2.182|
                  |L2.14|
;;;455      {
;;;456        coeff = _SIMD32_OFFSET(pCoef + (ia * 2u));
00000e  9d03              LDR      r5,[sp,#0xc]
000010  eb050586          ADD      r5,r5,r6,LSL #2
000014  f8d59000          LDR      r9,[r5,#0]
;;;457    
;;;458        ia = ia + twidCoefModifier;
000018  441e              ADD      r6,r6,r3
;;;459    
;;;460        l = i + n2;
00001a  18a5              ADDS     r5,r4,r2
;;;461    
;;;462        T = _SIMD32_OFFSET(pSrc + (2 * i));
00001c  eb000a84          ADD      r10,r0,r4,LSL #2
000020  f8da7000          LDR      r7,[r10,#0]
;;;463        in = ((int16_t) (T & 0xFFFF)) >> 1;
000024  f3470c4e          SBFX     r12,r7,#1,#15
;;;464        T = ((T >> 1) & 0xFFFF0000) | (in & 0xFFFF);
000028  107f              ASRS     r7,r7,#1
00002a  eacc0707          PKHBT    r7,r12,r7
;;;465    
;;;466        S = _SIMD32_OFFSET(pSrc + (2 * l));
00002e  eb000b85          ADD      r11,r0,r5,LSL #2
000032  f8dbc000          LDR      r12,[r11,#0]
;;;467        in = ((int16_t) (S & 0xFFFF)) >> 1;
000036  f34c084e          SBFX     r8,r12,#1,#15
;;;468        S = ((S >> 1) & 0xFFFF0000) | (in & 0xFFFF);
00003a  ea4f0c6c          ASR      r12,r12,#1
00003e  eac80c0c          PKHBT    r12,r8,r12
;;;469    
;;;470        R = __QSUB16(T, S);
000042  fad7f81c          QSUB16   r8,r7,r12
;;;471    
;;;472        _SIMD32_OFFSET(pSrc + (2 * i)) = __SHADD16(T, S);
000046  fa97f72c          SHADD16  r7,r7,r12
00004a  f8ca7000          STR      r7,[r10,#0]
;;;473    
;;;474    #ifndef ARM_MATH_BIG_ENDIAN
;;;475    
;;;476        out1 = __SMUSD(coeff, R) >> 16;
00004e  fb49f708          SMUSD    r7,r9,r8
000052  0c3f              LSRS     r7,r7,#16
;;;477        out2 = __SMUADX(coeff, R);
000054  fb29fc18          SMUADX   r12,r9,r8
;;;478    #else
;;;479    
;;;480        out1 = __SMUADX(R, coeff) >> 16u;
;;;481        out2 = __SMUSD(__QSUB(0, coeff), R);
;;;482    
;;;483    #endif //     #ifndef ARM_MATH_BIG_ENDIAN
;;;484    
;;;485        _SIMD32_OFFSET(pSrc + (2u * l)) =
000058  eac7070c          PKHBT    r7,r7,r12
00005c  f8cb7000          STR      r7,[r11,#0]
;;;486          (q31_t) ((out2) & 0xFFFF0000) | (out1 & 0x0000FFFF);
;;;487    
;;;488        coeff = _SIMD32_OFFSET(pCoef + (ia * 2u));
000060  9f03              LDR      r7,[sp,#0xc]
000062  eb070786          ADD      r7,r7,r6,LSL #2
000066  683f              LDR      r7,[r7,#0]
;;;489    
;;;490        ia = ia + twidCoefModifier;
000068  441e              ADD      r6,r6,r3
;;;491    
;;;492        // loop for butterfly 
;;;493        i++;
00006a  1c64              ADDS     r4,r4,#1
;;;494        l++;
00006c  1c6d              ADDS     r5,r5,#1
;;;495    
;;;496        T = _SIMD32_OFFSET(pSrc + (2 * i));
00006e  eb000984          ADD      r9,r0,r4,LSL #2
000072  f8d9c000          LDR      r12,[r9,#0]
;;;497        in = ((int16_t) (T & 0xFFFF)) >> 1;
000076  f34c084e          SBFX     r8,r12,#1,#15
;;;498        T = ((T >> 1) & 0xFFFF0000) | (in & 0xFFFF);
00007a  ea4f0c6c          ASR      r12,r12,#1
00007e  eac80c0c          PKHBT    r12,r8,r12
;;;499    
;;;500        S = _SIMD32_OFFSET(pSrc + (2 * l));
000082  eb000a85          ADD      r10,r0,r5,LSL #2
000086  f8da5000          LDR      r5,[r10,#0]
;;;501        in = ((int16_t) (S & 0xFFFF)) >> 1;
00008a  f345084e          SBFX     r8,r5,#1,#15
;;;502        S = ((S >> 1) & 0xFFFF0000) | (in & 0xFFFF);
00008e  106d              ASRS     r5,r5,#1
000090  eac80805          PKHBT    r8,r8,r5
;;;503    
;;;504        R = __QSUB16(T, S);
000094  fadcf518          QSUB16   r5,r12,r8
;;;505    
;;;506        _SIMD32_OFFSET(pSrc + (2 * i)) = __SHADD16(T, S);
000098  fa9cfc28          SHADD16  r12,r12,r8
00009c  f8c9c000          STR      r12,[r9,#0]
;;;507    
;;;508    #ifndef ARM_MATH_BIG_ENDIAN
;;;509    
;;;510        out1 = __SMUSD(coeff, R) >> 16;
0000a0  fb47fc05          SMUSD    r12,r7,r5
0000a4  ea4f4c1c          LSR      r12,r12,#16
;;;511        out2 = __SMUADX(coeff, R);
0000a8  fb27f515          SMUADX   r5,r7,r5
;;;512    #else
;;;513    
;;;514        out1 = __SMUADX(R, coeff) >> 16u;
;;;515        out2 = __SMUSD(__QSUB(0, coeff), R);
;;;516    
;;;517    #endif //     #ifndef ARM_MATH_BIG_ENDIAN
;;;518    
;;;519        _SIMD32_OFFSET(pSrc + (2u * l)) =
0000ac  eacc0505          PKHBT    r5,r12,r5
0000b0  f8ca5000          STR      r5,[r10,#0]
0000b4  1c64              ADDS     r4,r4,#1              ;454
                  |L2.182|
0000b6  4294              CMP      r4,r2                 ;454
0000b8  d3a9              BCC      |L2.14|
;;;520          (q31_t) ((out2) & 0xFFFF0000) | (out1 & 0x0000FFFF);
;;;521    
;;;522      }                             // groups loop end 
;;;523    
;;;524      twidCoefModifier = twidCoefModifier << 1u;
0000ba  f64f74ff          MOV      r4,#0xffff
0000be  ea040a43          AND      r10,r4,r3,LSL #1
;;;525    
;;;526      // loop for stage 
;;;527      for (k = fftLen / 2; k > 2; k = k >> 1)
0000c2  9200              STR      r2,[sp,#0]
0000c4  e04a              B        |L2.348|
                  |L2.198|
;;;528      {
;;;529        n1 = n2;
0000c6  4691              MOV      r9,r2
;;;530        n2 = n2 >> 1;
0000c8  0852              LSRS     r2,r2,#1
;;;531        ia = 0;
0000ca  f04f0800          MOV      r8,#0
;;;532    
;;;533        // loop for groups 
;;;534        for (j = 0; j < n2; j++)
0000ce  2500              MOVS     r5,#0
0000d0  e03b              B        |L2.330|
                  |L2.210|
;;;535        {
;;;536          coeff = _SIMD32_OFFSET(pCoef + (ia * 2u));
0000d2  9b03              LDR      r3,[sp,#0xc]
0000d4  eb030388          ADD      r3,r3,r8,LSL #2
0000d8  681c              LDR      r4,[r3,#0]
;;;537    
;;;538          ia = ia + twidCoefModifier;
0000da  44d0              ADD      r8,r8,r10
;;;539    
;;;540          // loop for butterfly 
;;;541          for (i = j; i < fftLen; i += n1)
0000dc  462b              MOV      r3,r5
0000de  e031              B        |L2.324|
                  |L2.224|
;;;542          {
;;;543            l = i + n2;
0000e0  189f              ADDS     r7,r3,r2
;;;544    
;;;545            T = _SIMD32_OFFSET(pSrc + (2 * i));
0000e2  eb000b83          ADD      r11,r0,r3,LSL #2
0000e6  f8db6000          LDR      r6,[r11,#0]
;;;546    
;;;547            S = _SIMD32_OFFSET(pSrc + (2 * l));
0000ea  eb000e87          ADD      lr,r0,r7,LSL #2
0000ee  f8de7000          LDR      r7,[lr,#0]
;;;548    
;;;549            R = __QSUB16(T, S);
0000f2  fad6fc17          QSUB16   r12,r6,r7
;;;550    
;;;551            _SIMD32_OFFSET(pSrc + (2 * i)) = __SHADD16(T, S);
0000f6  fa96f627          SHADD16  r6,r6,r7
0000fa  f8cb6000          STR      r6,[r11,#0]
;;;552    
;;;553    #ifndef ARM_MATH_BIG_ENDIAN
;;;554    
;;;555            out1 = __SMUSD(coeff, R) >> 16;
0000fe  fb44f60c          SMUSD    r6,r4,r12
000102  0c36              LSRS     r6,r6,#16
;;;556            out2 = __SMUADX(coeff, R);
000104  fb24f71c          SMUADX   r7,r4,r12
;;;557    
;;;558    #else
;;;559    
;;;560            out1 = __SMUADX(R, coeff) >> 16u;
;;;561            out2 = __SMUSD(__QSUB(0, coeff), R);
;;;562    
;;;563    #endif //     #ifndef ARM_MATH_BIG_ENDIAN
;;;564    
;;;565            _SIMD32_OFFSET(pSrc + (2u * l)) =
000108  eac60607          PKHBT    r6,r6,r7
00010c  f8ce6000          STR      r6,[lr,#0]
;;;566              (q31_t) ((out2) & 0xFFFF0000) | (out1 & 0x0000FFFF);
;;;567    
;;;568            i += n1;
000110  444b              ADD      r3,r3,r9
;;;569    
;;;570            l = i + n2;
000112  189f              ADDS     r7,r3,r2
;;;571    
;;;572            T = _SIMD32_OFFSET(pSrc + (2 * i));
000114  eb000b83          ADD      r11,r0,r3,LSL #2
000118  f8db6000          LDR      r6,[r11,#0]
;;;573    
;;;574            S = _SIMD32_OFFSET(pSrc + (2 * l));
00011c  eb000e87          ADD      lr,r0,r7,LSL #2
000120  f8de7000          LDR      r7,[lr,#0]
;;;575    
;;;576            R = __QSUB16(T, S);
000124  fad6fc17          QSUB16   r12,r6,r7
;;;577    
;;;578            _SIMD32_OFFSET(pSrc + (2 * i)) = __SHADD16(T, S);
000128  fa96f627          SHADD16  r6,r6,r7
00012c  f8cb6000          STR      r6,[r11,#0]
;;;579    
;;;580    #ifndef ARM_MATH_BIG_ENDIAN
;;;581    
;;;582            out1 = __SMUSD(coeff, R) >> 16;
000130  fb44f60c          SMUSD    r6,r4,r12
000134  0c36              LSRS     r6,r6,#16
;;;583            out2 = __SMUADX(coeff, R);
000136  fb24f71c          SMUADX   r7,r4,r12
;;;584    #else
;;;585    
;;;586            out1 = __SMUADX(R, coeff) >> 16u;
;;;587            out2 = __SMUSD(__QSUB(0, coeff), R);
;;;588    
;;;589    #endif //     #ifndef ARM_MATH_BIG_ENDIAN
;;;590    
;;;591            _SIMD32_OFFSET(pSrc + (2u * l)) =
00013a  eac60607          PKHBT    r6,r6,r7
00013e  f8ce6000          STR      r6,[lr,#0]
000142  444b              ADD      r3,r3,r9              ;541
                  |L2.324|
000144  428b              CMP      r3,r1                 ;541
000146  d3cb              BCC      |L2.224|
000148  1c6d              ADDS     r5,r5,#1              ;534
                  |L2.330|
00014a  4295              CMP      r5,r2                 ;534
00014c  d3c1              BCC      |L2.210|
;;;592              (q31_t) ((out2) & 0xFFFF0000) | (out1 & 0x0000FFFF);
;;;593    
;;;594          }                         // butterfly loop end 
;;;595    
;;;596        }                           // groups loop end 
;;;597    
;;;598        twidCoefModifier = twidCoefModifier << 1u;
00014e  f64f73ff          MOV      r3,#0xffff
000152  ea030a4a          AND      r10,r3,r10,LSL #1
000156  9b00              LDR      r3,[sp,#0]            ;527
000158  085b              LSRS     r3,r3,#1              ;527
00015a  9300              STR      r3,[sp,#0]            ;527
                  |L2.348|
00015c  9b00              LDR      r3,[sp,#0]            ;527
00015e  2b02              CMP      r3,#2                 ;527
000160  d8b1              BHI      |L2.198|
;;;599      }                             // stages loop end 
;;;600    
;;;601      n1 = n2;
;;;602      n2 = n2 >> 1;
000162  ea4f0852          LSR      r8,r2,#1
;;;603      ia = 0;
;;;604    
;;;605      // loop for groups 
;;;606      for (j = 0; j < n2; j++)
000166  2400              MOVS     r4,#0
000168  e016              B        |L2.408|
                  |L2.362|
;;;607      {
;;;608        coeff = _SIMD32_OFFSET(pCoef + (ia * 2u));
;;;609    
;;;610        ia = ia + twidCoefModifier;
;;;611    
;;;612        // loop for butterfly 
;;;613        for (i = j; i < fftLen; i += n1)
00016a  4623              MOV      r3,r4
00016c  e011              B        |L2.402|
                  |L2.366|
;;;614        {
;;;615          l = i + n2;
00016e  eb030608          ADD      r6,r3,r8
;;;616    
;;;617          T = _SIMD32_OFFSET(pSrc + (2 * i));
000172  eb000c83          ADD      r12,r0,r3,LSL #2
000176  f8dc5000          LDR      r5,[r12,#0]
;;;618    
;;;619          S = _SIMD32_OFFSET(pSrc + (2 * l));
00017a  eb000786          ADD      r7,r0,r6,LSL #2
00017e  683e              LDR      r6,[r7,#0]
;;;620    
;;;621          R = __QSUB16(T, S);
000180  fad5f916          QSUB16   r9,r5,r6
;;;622    
;;;623          _SIMD32_OFFSET(pSrc + (2 * i)) = __QADD16(T, S);
000184  fa95f516          QADD16   r5,r5,r6
000188  f8cc5000          STR      r5,[r12,#0]
;;;624    
;;;625          _SIMD32_OFFSET(pSrc + (2u * l)) = R;
00018c  f8c79000          STR      r9,[r7,#0]
000190  4413              ADD      r3,r3,r2              ;613
                  |L2.402|
000192  428b              CMP      r3,r1                 ;613
000194  d3eb              BCC      |L2.366|
000196  1c64              ADDS     r4,r4,#1              ;606
                  |L2.408|
000198  4544              CMP      r4,r8                 ;606
00019a  d3e6              BCC      |L2.362|
;;;626    
;;;627        }                           // butterfly loop end 
;;;628    
;;;629      }                             // groups loop end 
;;;630    
;;;631      twidCoefModifier = twidCoefModifier << 1u;
;;;632    
;;;633    #else
;;;634    
;;;635    
;;;636      unsigned i, j, k, l;
;;;637      unsigned n1, n2, ia;
;;;638      q15_t xt, yt, cosVal, sinVal;
;;;639    
;;;640      //N = fftLen; 
;;;641      n2 = fftLen;
;;;642    
;;;643      n1 = n2;
;;;644      n2 = n2 >> 1;
;;;645      ia = 0;
;;;646    
;;;647      // loop for groups 
;;;648      for (j = 0; j < n2; j++)
;;;649      {
;;;650        cosVal = pCoef[ia * 2];
;;;651        sinVal = pCoef[(ia * 2) + 1];
;;;652        ia = ia + twidCoefModifier;
;;;653    
;;;654        // loop for butterfly 
;;;655        for (i = j; i < fftLen; i += n1)
;;;656        {
;;;657          l = i + n2;
;;;658          xt = (pSrc[2 * i] >> 1u) - (pSrc[2 * l] >> 1u);
;;;659          pSrc[2 * i] = ((pSrc[2 * i] >> 1u) + (pSrc[2 * l] >> 1u)) >> 1u;
;;;660    
;;;661          yt = (pSrc[2 * i + 1] >> 1u) - (pSrc[2 * l + 1] >> 1u);
;;;662          pSrc[2 * i + 1] =
;;;663            ((pSrc[2 * l + 1] >> 1u) + (pSrc[2 * i + 1] >> 1u)) >> 1u;
;;;664    
;;;665          pSrc[2u * l] = (((int16_t) (((q31_t) xt * cosVal) >> 16)) -
;;;666                          ((int16_t) (((q31_t) yt * sinVal) >> 16)));
;;;667    
;;;668          pSrc[2u * l + 1u] = (((int16_t) (((q31_t) yt * cosVal) >> 16)) +
;;;669                               ((int16_t) (((q31_t) xt * sinVal) >> 16)));
;;;670    
;;;671        }                           // butterfly loop end 
;;;672    
;;;673      }                             // groups loop end 
;;;674    
;;;675      twidCoefModifier = twidCoefModifier << 1u;
;;;676    
;;;677      // loop for stage 
;;;678      for (k = fftLen / 2; k > 2; k = k >> 1)
;;;679      {
;;;680        n1 = n2;
;;;681        n2 = n2 >> 1;
;;;682        ia = 0;
;;;683    
;;;684        // loop for groups 
;;;685        for (j = 0; j < n2; j++)
;;;686        {
;;;687          cosVal = pCoef[ia * 2];
;;;688          sinVal = pCoef[(ia * 2) + 1];
;;;689          ia = ia + twidCoefModifier;
;;;690    
;;;691          // loop for butterfly 
;;;692          for (i = j; i < fftLen; i += n1)
;;;693          {
;;;694            l = i + n2;
;;;695            xt = pSrc[2 * i] - pSrc[2 * l];
;;;696            pSrc[2 * i] = (pSrc[2 * i] + pSrc[2 * l]) >> 1u;
;;;697    
;;;698            yt = pSrc[2 * i + 1] - pSrc[2 * l + 1];
;;;699            pSrc[2 * i + 1] = (pSrc[2 * l + 1] + pSrc[2 * i + 1]) >> 1u;
;;;700    
;;;701            pSrc[2u * l] = (((int16_t) (((q31_t) xt * cosVal) >> 16)) -
;;;702                            ((int16_t) (((q31_t) yt * sinVal) >> 16)));
;;;703    
;;;704            pSrc[2u * l + 1u] = (((int16_t) (((q31_t) yt * cosVal) >> 16)) +
;;;705                                 ((int16_t) (((q31_t) xt * sinVal) >> 16)));
;;;706    
;;;707          }                         // butterfly loop end 
;;;708    
;;;709        }                           // groups loop end 
;;;710    
;;;711        twidCoefModifier = twidCoefModifier << 1u;
;;;712      }                             // stages loop end 
;;;713    
;;;714      n1 = n2;
;;;715      n2 = n2 >> 1;
;;;716      ia = 0;
;;;717    
;;;718      cosVal = pCoef[ia * 2];
;;;719      sinVal = pCoef[(ia * 2) + 1];
;;;720    
;;;721      ia = ia + twidCoefModifier;
;;;722    
;;;723      // loop for butterfly 
;;;724      for (i = 0; i < fftLen; i += n1)
;;;725      {
;;;726        l = i + n2;
;;;727        xt = pSrc[2 * i] - pSrc[2 * l];
;;;728        pSrc[2 * i] = (pSrc[2 * i] + pSrc[2 * l]);
;;;729    
;;;730        yt = pSrc[2 * i + 1] - pSrc[2 * l + 1];
;;;731        pSrc[2 * i + 1] = (pSrc[2 * l + 1] + pSrc[2 * i + 1]);
;;;732    
;;;733        pSrc[2u * l] = xt;
;;;734    
;;;735        pSrc[2u * l + 1u] = yt;
;;;736    
;;;737      }                             // groups loop end 
;;;738    
;;;739    
;;;740    #endif //             #ifndef ARM_MATH_CM0_FAMILY
;;;741    
;;;742    }
00019c  b005              ADD      sp,sp,#0x14
00019e  e8bd8ff0          POP      {r4-r11,pc}
                          ENDP


                          AREA ||i.arm_radix2_butterfly_q15||, CODE, READONLY, ALIGN=1

                  arm_radix2_butterfly_q15 PROC
;;;102    
;;;103    void arm_radix2_butterfly_q15(
000000  e92d4fff          PUSH     {r0-r11,lr}
;;;104      q15_t * pSrc,
;;;105      uint32_t fftLen,
;;;106      q15_t * pCoef,
;;;107      uint16_t twidCoefModifier)
;;;108    {
;;;109    #ifndef ARM_MATH_CM0_FAMILY
;;;110    
;;;111      unsigned i, j, k, l;
;;;112      unsigned n1, n2, ia;
;;;113      q15_t in;
;;;114      q31_t T, S, R;
;;;115      q31_t coeff, out1, out2;
;;;116    
;;;117      //N = fftLen; 
;;;118      n2 = fftLen;
000004  9901              LDR      r1,[sp,#4]
;;;119    
;;;120      n1 = n2;
;;;121      n2 = n2 >> 1;
000006  0849              LSRS     r1,r1,#1
;;;122      ia = 0;
000008  2400              MOVS     r4,#0
;;;123    
;;;124      // loop for groups 
;;;125      for (i = 0; i < n2; i++)
00000a  2200              MOVS     r2,#0
00000c  e050              B        |L3.176|
                  |L3.14|
;;;126      {
;;;127        coeff = _SIMD32_OFFSET(pCoef + (ia * 2u));
00000e  9d02              LDR      r5,[sp,#8]
000010  eb050584          ADD      r5,r5,r4,LSL #2
000014  682e              LDR      r6,[r5,#0]
;;;128    
;;;129        ia = ia + twidCoefModifier;
000016  441c              ADD      r4,r4,r3
;;;130    
;;;131        l = i + n2;
000018  1855              ADDS     r5,r2,r1
;;;132    
;;;133        T = _SIMD32_OFFSET(pSrc + (2 * i));
00001a  eb000982          ADD      r9,r0,r2,LSL #2
00001e  f8d97000          LDR      r7,[r9,#0]
;;;134        in = ((int16_t) (T & 0xFFFF)) >> 1;
000022  f3470c4e          SBFX     r12,r7,#1,#15
;;;135        T = ((T >> 1) & 0xFFFF0000) | (in & 0xFFFF);
000026  107f              ASRS     r7,r7,#1
000028  eacc0707          PKHBT    r7,r12,r7
;;;136    
;;;137        S = _SIMD32_OFFSET(pSrc + (2 * l));
00002c  eb000a85          ADD      r10,r0,r5,LSL #2
000030  f8dac000          LDR      r12,[r10,#0]
;;;138        in = ((int16_t) (S & 0xFFFF)) >> 1;
000034  f34c084e          SBFX     r8,r12,#1,#15
;;;139        S = ((S >> 1) & 0xFFFF0000) | (in & 0xFFFF);
000038  ea4f0c6c          ASR      r12,r12,#1
00003c  eac80c0c          PKHBT    r12,r8,r12
;;;140    
;;;141        R = __QSUB16(T, S);
000040  fad7f81c          QSUB16   r8,r7,r12
;;;142    
;;;143        _SIMD32_OFFSET(pSrc + (2 * i)) = __SHADD16(T, S);
000044  fa97f72c          SHADD16  r7,r7,r12
000048  f8c97000          STR      r7,[r9,#0]
;;;144    
;;;145    #ifndef ARM_MATH_BIG_ENDIAN
;;;146    
;;;147        out1 = __SMUAD(coeff, R) >> 16;
00004c  fb26f708          SMUAD    r7,r6,r8
000050  0c3f              LSRS     r7,r7,#16
;;;148        out2 = __SMUSDX(coeff, R);
000052  fb46f618          SMUSDX   r6,r6,r8
;;;149    
;;;150    #else
;;;151    
;;;152        out1 = __SMUSDX(R, coeff) >> 16u;
;;;153        out2 = __SMUAD(coeff, R);
;;;154    
;;;155    #endif //     #ifndef ARM_MATH_BIG_ENDIAN
;;;156    
;;;157        _SIMD32_OFFSET(pSrc + (2u * l)) =
000056  eac70606          PKHBT    r6,r7,r6
00005a  f8ca6000          STR      r6,[r10,#0]
;;;158          (q31_t) ((out2) & 0xFFFF0000) | (out1 & 0x0000FFFF);
;;;159    
;;;160        coeff = _SIMD32_OFFSET(pCoef + (ia * 2u));
00005e  9e02              LDR      r6,[sp,#8]
000060  eb060684          ADD      r6,r6,r4,LSL #2
000064  6836              LDR      r6,[r6,#0]
;;;161    
;;;162        ia = ia + twidCoefModifier;
000066  441c              ADD      r4,r4,r3
;;;163    
;;;164        // loop for butterfly 
;;;165        i++;
000068  1c52              ADDS     r2,r2,#1
;;;166        l++;
00006a  1c6d              ADDS     r5,r5,#1
;;;167    
;;;168        T = _SIMD32_OFFSET(pSrc + (2 * i));
00006c  eb000882          ADD      r8,r0,r2,LSL #2
000070  f8d87000          LDR      r7,[r8,#0]
;;;169        in = ((int16_t) (T & 0xFFFF)) >> 1;
000074  f3470c4e          SBFX     r12,r7,#1,#15
;;;170        T = ((T >> 1) & 0xFFFF0000) | (in & 0xFFFF);
000078  107f              ASRS     r7,r7,#1
00007a  eacc0707          PKHBT    r7,r12,r7
;;;171    
;;;172        S = _SIMD32_OFFSET(pSrc + (2 * l));
00007e  eb000985          ADD      r9,r0,r5,LSL #2
000082  f8d95000          LDR      r5,[r9,#0]
;;;173        in = ((int16_t) (S & 0xFFFF)) >> 1;
000086  f3450c4e          SBFX     r12,r5,#1,#15
;;;174        S = ((S >> 1) & 0xFFFF0000) | (in & 0xFFFF);
00008a  106d              ASRS     r5,r5,#1
00008c  eacc0c05          PKHBT    r12,r12,r5
;;;175    
;;;176        R = __QSUB16(T, S);
000090  fad7f51c          QSUB16   r5,r7,r12
;;;177    
;;;178        _SIMD32_OFFSET(pSrc + (2 * i)) = __SHADD16(T, S);
000094  fa97f72c          SHADD16  r7,r7,r12
000098  f8c87000          STR      r7,[r8,#0]
;;;179    
;;;180    #ifndef ARM_MATH_BIG_ENDIAN
;;;181    
;;;182        out1 = __SMUAD(coeff, R) >> 16;
00009c  fb26f705          SMUAD    r7,r6,r5
0000a0  0c3f              LSRS     r7,r7,#16
;;;183        out2 = __SMUSDX(coeff, R);
0000a2  fb46f515          SMUSDX   r5,r6,r5
;;;184    
;;;185    #else
;;;186    
;;;187        out1 = __SMUSDX(R, coeff) >> 16u;
;;;188        out2 = __SMUAD(coeff, R);
;;;189    
;;;190    #endif //     #ifndef ARM_MATH_BIG_ENDIAN
;;;191    
;;;192        _SIMD32_OFFSET(pSrc + (2u * l)) =
0000a6  eac70505          PKHBT    r5,r7,r5
0000aa  f8c95000          STR      r5,[r9,#0]
0000ae  1c52              ADDS     r2,r2,#1              ;125
                  |L3.176|
0000b0  428a              CMP      r2,r1                 ;125
0000b2  d3ac              BCC      |L3.14|
;;;193          (q31_t) ((out2) & 0xFFFF0000) | (out1 & 0x0000FFFF);
;;;194    
;;;195      }                             // groups loop end 
;;;196    
;;;197      twidCoefModifier = twidCoefModifier << 1u;
0000b4  f64f72ff          MOV      r2,#0xffff
0000b8  ea020943          AND      r9,r2,r3,LSL #1
;;;198    
;;;199      // loop for stage 
;;;200      for (k = fftLen / 2; k > 2; k = k >> 1)
0000bc  468b              MOV      r11,r1
0000be  e04a              B        |L3.342|
                  |L3.192|
;;;201      {
;;;202        n1 = n2;
0000c0  4688              MOV      r8,r1
;;;203        n2 = n2 >> 1;
0000c2  0849              LSRS     r1,r1,#1
;;;204        ia = 0;
0000c4  f04f0c00          MOV      r12,#0
;;;205    
;;;206        // loop for groups 
;;;207        for (j = 0; j < n2; j++)
0000c8  2400              MOVS     r4,#0
0000ca  e03c              B        |L3.326|
                  |L3.204|
;;;208        {
;;;209          coeff = _SIMD32_OFFSET(pCoef + (ia * 2u));
0000cc  9a02              LDR      r2,[sp,#8]
0000ce  eb02028c          ADD      r2,r2,r12,LSL #2
0000d2  6813              LDR      r3,[r2,#0]
;;;210    
;;;211          ia = ia + twidCoefModifier;
0000d4  44cc              ADD      r12,r12,r9
;;;212    
;;;213          // loop for butterfly 
;;;214          for (i = j; i < fftLen; i += n1)
0000d6  4622              MOV      r2,r4
0000d8  e031              B        |L3.318|
                  |L3.218|
;;;215          {
;;;216            l = i + n2;
0000da  1856              ADDS     r6,r2,r1
;;;217    
;;;218            T = _SIMD32_OFFSET(pSrc + (2 * i));
0000dc  eb000a82          ADD      r10,r0,r2,LSL #2
0000e0  f8da5000          LDR      r5,[r10,#0]
;;;219    
;;;220            S = _SIMD32_OFFSET(pSrc + (2 * l));
0000e4  eb000e86          ADD      lr,r0,r6,LSL #2
0000e8  f8de6000          LDR      r6,[lr,#0]
;;;221    
;;;222            R = __QSUB16(T, S);
0000ec  fad5f716          QSUB16   r7,r5,r6
;;;223    
;;;224            _SIMD32_OFFSET(pSrc + (2 * i)) = __SHADD16(T, S);
0000f0  fa95f526          SHADD16  r5,r5,r6
0000f4  f8ca5000          STR      r5,[r10,#0]
;;;225    
;;;226    #ifndef ARM_MATH_BIG_ENDIAN
;;;227    
;;;228            out1 = __SMUAD(coeff, R) >> 16;
0000f8  fb23f507          SMUAD    r5,r3,r7
0000fc  0c2d              LSRS     r5,r5,#16
;;;229            out2 = __SMUSDX(coeff, R);
0000fe  fb43f617          SMUSDX   r6,r3,r7
;;;230    
;;;231    #else
;;;232    
;;;233            out1 = __SMUSDX(R, coeff) >> 16u;
;;;234            out2 = __SMUAD(coeff, R);
;;;235    
;;;236    #endif //     #ifndef ARM_MATH_BIG_ENDIAN
;;;237    
;;;238            _SIMD32_OFFSET(pSrc + (2u * l)) =
000102  eac50506          PKHBT    r5,r5,r6
000106  f8ce5000          STR      r5,[lr,#0]
;;;239              (q31_t) ((out2) & 0xFFFF0000) | (out1 & 0x0000FFFF);
;;;240    
;;;241            i += n1;
00010a  4442              ADD      r2,r2,r8
;;;242    
;;;243            l = i + n2;
00010c  1856              ADDS     r6,r2,r1
;;;244    
;;;245            T = _SIMD32_OFFSET(pSrc + (2 * i));
00010e  eb000a82          ADD      r10,r0,r2,LSL #2
000112  f8da5000          LDR      r5,[r10,#0]
;;;246    
;;;247            S = _SIMD32_OFFSET(pSrc + (2 * l));
000116  eb000e86          ADD      lr,r0,r6,LSL #2
00011a  f8de6000          LDR      r6,[lr,#0]
;;;248    
;;;249            R = __QSUB16(T, S);
00011e  fad5f716          QSUB16   r7,r5,r6
;;;250    
;;;251            _SIMD32_OFFSET(pSrc + (2 * i)) = __SHADD16(T, S);
000122  fa95f526          SHADD16  r5,r5,r6
000126  f8ca5000          STR      r5,[r10,#0]
;;;252    
;;;253    #ifndef ARM_MATH_BIG_ENDIAN
;;;254    
;;;255            out1 = __SMUAD(coeff, R) >> 16;
00012a  fb23f507          SMUAD    r5,r3,r7
00012e  0c2d              LSRS     r5,r5,#16
;;;256            out2 = __SMUSDX(coeff, R);
000130  fb43f617          SMUSDX   r6,r3,r7
;;;257    
;;;258    #else
;;;259    
;;;260            out1 = __SMUSDX(R, coeff) >> 16u;
;;;261            out2 = __SMUAD(coeff, R);
;;;262    
;;;263    #endif //     #ifndef ARM_MATH_BIG_ENDIAN
;;;264    
;;;265            _SIMD32_OFFSET(pSrc + (2u * l)) =
000134  eac50506          PKHBT    r5,r5,r6
000138  f8ce5000          STR      r5,[lr,#0]
00013c  4442              ADD      r2,r2,r8              ;214
                  |L3.318|
00013e  9d01              LDR      r5,[sp,#4]            ;214
000140  42aa              CMP      r2,r5                 ;214
000142  d3ca              BCC      |L3.218|
000144  1c64              ADDS     r4,r4,#1              ;207
                  |L3.326|
000146  428c              CMP      r4,r1                 ;207
000148  d3c0              BCC      |L3.204|
;;;266              (q31_t) ((out2) & 0xFFFF0000) | (out1 & 0x0000FFFF);
;;;267    
;;;268          }                         // butterfly loop end 
;;;269    
;;;270        }                           // groups loop end 
;;;271    
;;;272        twidCoefModifier = twidCoefModifier << 1u;
00014a  f64f72ff          MOV      r2,#0xffff
00014e  ea020949          AND      r9,r2,r9,LSL #1
000152  ea4f0b5b          LSR      r11,r11,#1            ;200
                  |L3.342|
000156  f1bb0f02          CMP      r11,#2                ;200
00015a  d8b1              BHI      |L3.192|
;;;273      }                             // stages loop end 
;;;274    
;;;275      n1 = n2;
;;;276      n2 = n2 >> 1;
00015c  084f              LSRS     r7,r1,#1
;;;277      ia = 0;
;;;278    
;;;279      coeff = _SIMD32_OFFSET(pCoef + (ia * 2u));
;;;280    
;;;281      ia = ia + twidCoefModifier;
;;;282    
;;;283      // loop for butterfly 
;;;284      for (i = 0; i < fftLen; i += n1)
00015e  2200              MOVS     r2,#0
000160  e01d              B        |L3.414|
                  |L3.354|
;;;285      {
;;;286        l = i + n2;
000162  19d4              ADDS     r4,r2,r7
;;;287    
;;;288        T = _SIMD32_OFFSET(pSrc + (2 * i));
000164  eb000682          ADD      r6,r0,r2,LSL #2
000168  6833              LDR      r3,[r6,#0]
;;;289    
;;;290        S = _SIMD32_OFFSET(pSrc + (2 * l));
00016a  eb000584          ADD      r5,r0,r4,LSL #2
00016e  682c              LDR      r4,[r5,#0]
;;;291    
;;;292        R = __QSUB16(T, S);
000170  fad3fc14          QSUB16   r12,r3,r4
;;;293    
;;;294        _SIMD32_OFFSET(pSrc + (2 * i)) = __QADD16(T, S);
000174  fa93f314          QADD16   r3,r3,r4
000178  6033              STR      r3,[r6,#0]
;;;295    
;;;296        _SIMD32_OFFSET(pSrc + (2u * l)) = R;
00017a  f8c5c000          STR      r12,[r5,#0]
;;;297    
;;;298        i += n1;
00017e  440a              ADD      r2,r2,r1
;;;299        l = i + n2;
000180  19d4              ADDS     r4,r2,r7
;;;300    
;;;301        T = _SIMD32_OFFSET(pSrc + (2 * i));
000182  eb000682          ADD      r6,r0,r2,LSL #2
000186  6833              LDR      r3,[r6,#0]
;;;302    
;;;303        S = _SIMD32_OFFSET(pSrc + (2 * l));
000188  eb000584          ADD      r5,r0,r4,LSL #2
00018c  682c              LDR      r4,[r5,#0]
;;;304    
;;;305        R = __QSUB16(T, S);
00018e  fad3fc14          QSUB16   r12,r3,r4
;;;306    
;;;307        _SIMD32_OFFSET(pSrc + (2 * i)) = __QADD16(T, S);
000192  fa93f314          QADD16   r3,r3,r4
000196  6033              STR      r3,[r6,#0]
;;;308    
;;;309        _SIMD32_OFFSET(pSrc + (2u * l)) = R;
000198  f8c5c000          STR      r12,[r5,#0]
00019c  440a              ADD      r2,r2,r1              ;284
                  |L3.414|
00019e  9b01              LDR      r3,[sp,#4]            ;284
0001a0  429a              CMP      r2,r3                 ;284
0001a2  d3de              BCC      |L3.354|
;;;310    
;;;311      }                             // groups loop end 
;;;312    
;;;313    
;;;314    #else
;;;315    
;;;316      unsigned i, j, k, l;
;;;317      unsigned n1, n2, ia;
;;;318      q15_t xt, yt, cosVal, sinVal;
;;;319    
;;;320    
;;;321      //N = fftLen; 
;;;322      n2 = fftLen;
;;;323    
;;;324      n1 = n2;
;;;325      n2 = n2 >> 1;
;;;326      ia = 0;
;;;327    
;;;328      // loop for groups 
;;;329      for (j = 0; j < n2; j++)
;;;330      {
;;;331        cosVal = pCoef[ia * 2];
;;;332        sinVal = pCoef[(ia * 2) + 1];
;;;333        ia = ia + twidCoefModifier;
;;;334    
;;;335        // loop for butterfly 
;;;336        for (i = j; i < fftLen; i += n1)
;;;337        {
;;;338          l = i + n2;
;;;339          xt = (pSrc[2 * i] >> 1u) - (pSrc[2 * l] >> 1u);
;;;340          pSrc[2 * i] = ((pSrc[2 * i] >> 1u) + (pSrc[2 * l] >> 1u)) >> 1u;
;;;341    
;;;342          yt = (pSrc[2 * i + 1] >> 1u) - (pSrc[2 * l + 1] >> 1u);
;;;343          pSrc[2 * i + 1] =
;;;344            ((pSrc[2 * l + 1] >> 1u) + (pSrc[2 * i + 1] >> 1u)) >> 1u;
;;;345    
;;;346          pSrc[2u * l] = (((int16_t) (((q31_t) xt * cosVal) >> 16)) +
;;;347                          ((int16_t) (((q31_t) yt * sinVal) >> 16)));
;;;348    
;;;349          pSrc[2u * l + 1u] = (((int16_t) (((q31_t) yt * cosVal) >> 16)) -
;;;350                               ((int16_t) (((q31_t) xt * sinVal) >> 16)));
;;;351    
;;;352        }                           // butterfly loop end 
;;;353    
;;;354      }                             // groups loop end 
;;;355    
;;;356      twidCoefModifier = twidCoefModifier << 1u;
;;;357    
;;;358      // loop for stage 
;;;359      for (k = fftLen / 2; k > 2; k = k >> 1)
;;;360      {
;;;361        n1 = n2;
;;;362        n2 = n2 >> 1;
;;;363        ia = 0;
;;;364    
;;;365        // loop for groups 
;;;366        for (j = 0; j < n2; j++)
;;;367        {
;;;368          cosVal = pCoef[ia * 2];
;;;369          sinVal = pCoef[(ia * 2) + 1];
;;;370          ia = ia + twidCoefModifier;
;;;371    
;;;372          // loop for butterfly 
;;;373          for (i = j; i < fftLen; i += n1)
;;;374          {
;;;375            l = i + n2;
;;;376            xt = pSrc[2 * i] - pSrc[2 * l];
;;;377            pSrc[2 * i] = (pSrc[2 * i] + pSrc[2 * l]) >> 1u;
;;;378    
;;;379            yt = pSrc[2 * i + 1] - pSrc[2 * l + 1];
;;;380            pSrc[2 * i + 1] = (pSrc[2 * l + 1] + pSrc[2 * i + 1]) >> 1u;
;;;381    
;;;382            pSrc[2u * l] = (((int16_t) (((q31_t) xt * cosVal) >> 16)) +
;;;383                            ((int16_t) (((q31_t) yt * sinVal) >> 16)));
;;;384    
;;;385            pSrc[2u * l + 1u] = (((int16_t) (((q31_t) yt * cosVal) >> 16)) -
;;;386                                 ((int16_t) (((q31_t) xt * sinVal) >> 16)));
;;;387    
;;;388          }                         // butterfly loop end 
;;;389    
;;;390        }                           // groups loop end 
;;;391    
;;;392        twidCoefModifier = twidCoefModifier << 1u;
;;;393      }                             // stages loop end 
;;;394    
;;;395      n1 = n2;
;;;396      n2 = n2 >> 1;
;;;397      ia = 0;
;;;398    
;;;399      // loop for groups 
;;;400      for (j = 0; j < n2; j++)
;;;401      {
;;;402        cosVal = pCoef[ia * 2];
;;;403        sinVal = pCoef[(ia * 2) + 1];
;;;404    
;;;405        ia = ia + twidCoefModifier;
;;;406    
;;;407        // loop for butterfly 
;;;408        for (i = j; i < fftLen; i += n1)
;;;409        {
;;;410          l = i + n2;
;;;411          xt = pSrc[2 * i] - pSrc[2 * l];
;;;412          pSrc[2 * i] = (pSrc[2 * i] + pSrc[2 * l]);
;;;413    
;;;414          yt = pSrc[2 * i + 1] - pSrc[2 * l + 1];
;;;415          pSrc[2 * i + 1] = (pSrc[2 * l + 1] + pSrc[2 * i + 1]);
;;;416    
;;;417          pSrc[2u * l] = xt;
;;;418    
;;;419          pSrc[2u * l + 1u] = yt;
;;;420    
;;;421        }                           // butterfly loop end 
;;;422    
;;;423      }                             // groups loop end 
;;;424    
;;;425      twidCoefModifier = twidCoefModifier << 1u;
;;;426    
;;;427    #endif //             #ifndef ARM_MATH_CM0_FAMILY
;;;428    
;;;429    }
0001a4  e8bd8fff          POP      {r0-r11,pc}
;;;430    
                          ENDP


;*** Start embedded assembler ***

#line 1 "..\\..\\SRC\\CMSIS_DSP_4_5\\src\\TransformFunctions\\arm_cfft_radix2_q15.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___21_arm_cfft_radix2_q15_c_517ad710____REV16|
#line 129 "..\\..\\SRC\\CMSIS_DSP_4_5\\inc\\core_cmInstr.h"
|__asm___21_arm_cfft_radix2_q15_c_517ad710____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___21_arm_cfft_radix2_q15_c_517ad710____REVSH|
#line 144
|__asm___21_arm_cfft_radix2_q15_c_517ad710____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP
	AREA ||.rrx_text||, CODE
	THUMB
	EXPORT |__asm___21_arm_cfft_radix2_q15_c_517ad710____RRX|
#line 300
|__asm___21_arm_cfft_radix2_q15_c_517ad710____RRX| PROC
#line 301

 rrx r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
